################## fieldmap ####################
## Maps original fields to json fields, and how
##  each field is printed, as a printf format specifier.
##  "" just makes a string.  If the field should be a number,
##  omit the quotes.  If the field should be omitted from the output
##  set to the empty string or remove the entry altogether
##
## TODO: more features, like True and False from zero and one?
##

declare -A fieldmap=(
["Fee Type"]=fee_type:\"%s\"
["First Name"]=first_name:\"%s\"
["Work Heat"]=work_heat:\"%s\"
["Car Color"]=car_color:\"%s\"
["OLR"]=olr:\"%s\"
["Year"]=year:\"%s\"
["Member #"]=member_num,:\"%s\"
["Amnt."]=amnt:\"%s\"
["Total"]=total:\"%s\"
["Last Name"]=last_name:\"%s\"
["Diff."]=diff:\"%s\"
["Number"]=number:\"%s\"
["Expires"]=expires:\"%s\"
["Pax Time"]=pax_time:\"%s\"
["CW"]=cw:\"%s\"
["Gender"]=gender:\"%s\"
["Rookie"]=rookie:\"%s\"
["Prev. Pos."]=prev_pos:\"%s\"
["Age"]=age:\"%s\"
["Work Assignment"]=work_assignment:\"%s\"
["Annual Waiver"]=annual_waiver:\"%s\"
["Method"]=method:\"%s\"
["DOB"]=dob:\"%s\"
["Car Model"]=car_model:\"%s\"
["Car Make"]=car_make:\"%s\"
["Run Heat"]=run_heat:\"%s\"
["Checkin"]=checkin:\"%s\"
["Grid #"]=grid_num,:\"%s\"
["From 1st"]=from_1st:\"%s\"
["Pen 1"]=pen_1:\"%s\"
["Best Run"]=best_run:\"%s\"
["Pen 3"]=pen_3:\"%s\"
["Run 4"]=run_4:\"%s\"
["Pen 2"]=pen_2:\"%s\"
["Run 3"]=run_3:\"%s\"
["Pen 4"]=pen_4:\"%s\"
["Run 2"]=run_2:\"%s\"
["Run 1"]=run_1:\"%s\"
["Registered"]=registered:\"%s\"
["Raw Time"]=raw_time:\"%s\"
["Raw Pos."]=raw_pos:\"%s\"
["Member"]=member:\"%s\"
["Class"]=class:\"%s\"
["Barcode"]=barcode:\"%s\"
["Pax Pos."]=pax_pos:\"%s\"
["Reg.CheckIn"]=regcheckin:\"%s\"
["Paid"]=paid:\"%s\"
["Class 2"]=class_2:\"%s\"
["Annual Tech"]=annual_tech:\"%s\"
)
################## sample json ####################
## how the data would look by default
# {
#   "class":"x",
#   "number":"1",
#   "cw":"13",
#   "first_name":"Julien",
#   "last_name":"Brandt",
#   "car_model":"Catfish",
#   "car_color":"White",
#   "class_2":"",
#   "grid_num,":"",
#   "barcode":"1",
#   "member":"No",
#   "member_num,":"",
#   "expires":"",
#   "dob":"",
#   "age":"",
#   "registered":"Yes",
#   "regcheckin":"No",
#   "olr":"",
#   "paid":"No",
#   "fee_type":"",
#   "amnt":"0",
#   "method":"",
#   "annual_tech":"No",
#   "annual_waiver":"No",
#   "rookie":"No",
#   "run_heat":"",
#   "work_heat":"",
#   "work_assignment":"",
#   "checkin":"No",
#   "year":"2015",
#   "car_make":"Bauer",
#   "gender":"male",
#   "raw_time":"67.029",
#   "raw_pos":"4",
#   "prev_pos":"2",
#   "total":"67.029",
#   "diff":"0.047",
#   "from_1st":"0.047",
#   "pax_time":"67.029",
#   "pax_pos":"4",
#   "best_run":"3",
#   "run_1":"68.469",
#   "pen_1":"2",
#   "run_2":"66.965",
#   "pen_2":"1",
#   "run_3":"67.029",
#   "pen_3":"",
#   "run_4":"",
#   "pen_4":""
# }
