################## fieldmap ####################
## Maps original fields to json fields, and how
##  each field is printed, as a printf format specifier.
##  "" just makes a string.  If the field should be a number,
##  omit the quotes.  If the field should be omitted from the output
##  set to the empty string or remove the entry altogether
##
## TODO: more features, like True and False from zero and one?
##

########
## config.txt represents

declare -A fieldmap=(
#["Fee Type"]=fee_type:%s
["First Name"]=first_name:%s
#["Work Heat"]=work_heat:%s
["Car Color"]=car_color:%s
#["OLR"]=olr:%s
["Year"]=year:%s
#["Member #"]=member_num,:%s
#["Amnt."]=amnt:%s
#["Total"]=total:%s
["Last Name"]=last_name:%s
["Diff."]=diff:%f
["Number"]=number:%d
#["Expires"]=expires:%s
#["Pax Time"]=pax_time:%s
#["CW"]=cw:%s
["Gender"]=gender:%s
["Rookie"]=rookie:%s
#["Prev. Pos."]=prev_pos:%s
#["Age"]=age:%s
#["Work Assignment"]=work_assignment:%s
#["Annual Waiver"]=annual_waiver:%s
#["Method"]=method:%s
#["DOB"]=dob:%s
["Car Model"]=car_model:%s
["Car Make"]=car_make:%s
#["Run Heat"]=run_heat:%s
#["Checkin"]=checkin:%s
#["Grid #"]=grid_num,:%s
["From 1st"]=from_1st:%f
#["Pen 1"]=pen_1:%s
["Best Run"]=best_run:%f
#["Pen 3"]=pen_3:%s
["Run 4"]=run_4:%f
#["Pen 2"]=pen_2:%s
["Run 3"]=run_3:%f
#["Pen 4"]=pen_4:%s
["Run 2"]=run_2:%f
["Run 1"]=run_1:%f
#["Registered"]=registered:%s
["Raw Time"]=raw_time:%f
["Raw Pos."]=raw_pos:%d
#["Member"]=member:%s
["Class"]=class:%s^^
#["Barcode"]=barcode:%s
#["Pax Pos."]=pax_pos:%s
#["Reg.CheckIn"]=regcheckin:%s
#["Paid"]=paid:%s
#["Class 2"]=class_2:%s
#["Annual Tech"]=annual_tech:%s
)
################## sample json ####################
## how the data would look by default
# {
#   "class":"lc",
#   "number":"971",
#   "cw":"3",
#   "first_name":"Todd",
#   "last_name":"Skinner",
#   "car_model":"318TI",
#   "car_color":"Red",
#   "class_2":"",
#   "grid_num,":"",
#   "barcode":"971",
#   "member":"No",
#   "member_num,":"",
#   "expires":"",
#   "dob":"",
#   "age":"",
#   "registered":"Yes",
#   "regcheckin":"No",
#   "olr":"",
#   "paid":"No",
#   "fee_type":"",
#   "amnt":"0",
#   "method":"",
#   "annual_tech":"No",
#   "annual_waiver":"No",
#   "rookie":"No",
#   "run_heat":"",
#   "work_heat":"",
#   "work_assignment":"",
#   "checkin":"No",
#   "year":"1995",
#   "car_make":"BMW",
#   "gender":"male",
#   "raw_time":"69.77",
#   "raw_pos":"4",
#   "prev_pos":"1",
#   "total":"69.77",
#   "diff":"[-]0.063",
#   "from_1st":"-",
#   "pax_time":"69.77",
#   "pax_pos":"4",
#   "best_run":"3",
#   "run_1":"70.589",
#   "pen_1":"",
#   "run_2":"70.44",
#   "pen_2":"",
#   "run_3":"69.77",
#   "pen_3":"",
#   "run_4":"",
#   "pen_4":""
# }
