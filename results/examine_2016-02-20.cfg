################## fieldmap ####################
## Maps original fields to json fields, and how
##  each field is printed, as a printf format specifier.
##  "" just makes a string.  If the field should be a number,
##  omit the quotes.  If the field should be omitted from the output
##  set to the empty string or remove the entry altogether
##
## TODO: more features, like True and False from zero and one?
##

declare -A fieldmap=(
["Fee Type"]=fee_type:\"%s\"
["First Name"]=first_name:\"%s\"
["Work Heat"]=work_heat:\"%s\"
["Car Color"]=car_color:\"%s\"
["OLR"]=olr:\"%s\"
["Member #"]=member_num,:\"%s\"
["Amnt."]=amnt:\"%s\"
["Total"]=total:\"%s\"
["Last Name"]=last_name:\"%s\"
["Diff."]=diff:\"%s\"
["Number"]=number:\"%s\"
["Expires"]=expires:\"%s\"
["Pax Time"]=pax_time:\"%s\"
["Pen 18"]=pen_18:\"%s\"
["Pen 19"]=pen_19:\"%s\"
["Rookie"]=rookie:\"%s\"
["Prev. Pos."]=prev_pos:\"%s\"
["Pen 10"]=pen_10:\"%s\"
["Pen 11"]=pen_11:\"%s\"
["Age"]=age:\"%s\"
["Pen 12"]=pen_12:\"%s\"
["Work Assignment"]=work_assignment:\"%s\"
["Pen 13"]=pen_13:\"%s\"
["Annual Waiver"]=annual_waiver:\"%s\"
["Method"]=method:\"%s\"
["DOB"]=dob:\"%s\"
["Pen 14"]=pen_14:\"%s\"
["Pen 15"]=pen_15:\"%s\"
["Car Model"]=car_model:\"%s\"
["Pen 16"]=pen_16:\"%s\"
["Pen 17"]=pen_17:\"%s\"
["Run 18"]=run_18:\"%s\"
["Run 19"]=run_19:\"%s\"
["Run Heat"]=run_heat:\"%s\"
["Run 12"]=run_12:\"%s\"
["Run 13"]=run_13:\"%s\"
["Run 10"]=run_10:\"%s\"
["Run 11"]=run_11:\"%s\"
["Run 16"]=run_16:\"%s\"
["Run 17"]=run_17:\"%s\"
["Checkin"]=checkin:\"%s\"
["Run 14"]=run_14:\"%s\"
["Run 15"]=run_15:\"%s\"
["Pen 9"]=pen_9:\"%s\"
["Pen 8"]=pen_8:\"%s\"
["Grid #"]=grid_num,:\"%s\"
["From 1st"]=from_1st:\"%s\"
["Tire Brand"]=tire_brand:\"%s\"
["Run 9"]=run_9:\"%s\"
["Run 20"]=run_20:\"%s\"
["Run 8"]=run_8:\"%s\"
["Run 7"]=run_7:\"%s\"
["Pen 1"]=pen_1:\"%s\"
["Run 6"]=run_6:\"%s\"
["Best Run"]=best_run:\"%s\"
["Run 5"]=run_5:\"%s\"
["Pen 3"]=pen_3:\"%s\"
["Run 4"]=run_4:\"%s\"
["Pen 2"]=pen_2:\"%s\"
["Pen 5"]=pen_5:\"%s\"
["Run 3"]=run_3:\"%s\"
["Pen 4"]=pen_4:\"%s\"
["Run 2"]=run_2:\"%s\"
["Pen 7"]=pen_7:\"%s\"
["Run 1"]=run_1:\"%s\"
["Pen 6"]=pen_6:\"%s\"
["Registered"]=registered:\"%s\"
["Raw Time"]=raw_time:\"%s\"
["Sponsor"]=sponsor:\"%s\"
["Raw Pos."]=raw_pos:\"%s\"
["Member"]=member:\"%s\"
["Class"]=class:\"%s\"
["Barcode"]=barcode:\"%s\"
["Pax Pos."]=pax_pos:\"%s\"
["Pen 20"]=pen_20:\"%s\"
["Reg.CheckIn"]=regcheckin:\"%s\"
["Paid"]=paid:\"%s\"
["Class 2"]=class_2:\"%s\"
["Annual Tech"]=annual_tech:\"%s\"
)
################## sample json ####################
## how the data would look by default
# {
#   "class":"LC",
#   "number":"878",
#   "first_name":"Nicolas",
#   "last_name":"Beier",
#   "car_model":"325ES",
#   "car_color":"Blue",
#   "class_2":"",
#   "grid_num,":"",
#   "barcode":"878",
#   "member":"No",
#   "member_num,":"",
#   "expires":"",
#   "dob":"",
#   "age":"",
#   "registered":"Yes",
#   "regcheckin":"No",
#   "olr":"",
#   "paid":"No",
#   "fee_type":"",
#   "amnt":"0.00",
#   "method":"",
#   "annual_tech":"No",
#   "annual_waiver":"No",
#   "rookie":"No",
#   "run_heat":"",
#   "work_heat":"",
#   "work_assignment":"",
#   "checkin":"No",
#   "sponsor":"",
#   "tire_brand":"",
#   "raw_time":"80.946",
#   "raw_pos":"14",
#   "prev_pos":"1",
#   "total":"80.946",
#   "diff":"[-]0.888",
#   "from_1st":"-",
#   "pax_time":"80.946",
#   "pax_pos":"14",
#   "best_run":"4",
#   "run_1":"83.148",
#   "pen_1":"",
#   "run_2":"87.847",
#   "pen_2":"DNF",
#   "run_3":"81.782",
#   "pen_3":"",
#   "run_4":"80.946",
#   "pen_4":"",
#   "run_5":"",
#   "pen_5":"",
#   "run_6":"",
#   "pen_6":"",
#   "run_7":"",
#   "pen_7":"",
#   "run_8":"",
#   "pen_8":"",
#   "run_9":"",
#   "pen_9":"",
#   "run_10":"",
#   "pen_10":"",
#   "run_11":"",
#   "pen_11":"",
#   "run_12":"",
#   "pen_12":"",
#   "run_13":"",
#   "pen_13":"",
#   "run_14":"",
#   "pen_14":"",
#   "run_15":"",
#   "pen_15":"",
#   "run_16":"",
#   "pen_16":"",
#   "run_17":"",
#   "pen_17":"",
#   "run_18":"",
#   "pen_18":"",
#   "run_19":"",
#   "pen_19":"",
#   "run_20":"",
#   "pen_20":""
# }
